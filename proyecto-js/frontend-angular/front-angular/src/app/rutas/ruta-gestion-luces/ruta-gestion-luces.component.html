
<h1>Gestion de luces</h1>

<div>
  <button
    pButton
    class="ui-button-success"
    label="Nueva luz"
    (click)="ingresar()"
    >
  </button>

  <router-outlet></router-outlet>
</div>

<p></p>

<span class="ui-float-label">
<input id="float-input"
       type="text"
       size="30"
       [(ngModel)]="busquedaLuz"
       pInputText>
    <label for="float-input">
      Buscar por numero
    </label>

</span>

<p-button label="Buscar" (onClick)="buscar()">

</p-button>

<div>

  <p-table [value]="luces" [paginator]="true" [rows]="FILAS">
    <ng-template pTemplate="caption">
      Lista de luces
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th *ngFor="let columna of columnas">
          {{columna.header}}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-luz>
      <tr>
        <td *ngFor="let columna of columnas">
          <div *ngIf="columna.field==='id'">
            <div *ngIf="columna.header=='Identificador'">
              {{luz[columna.field]}}
            </div>

            <div *ngIf="columna.header=='Acciones'">
              <p-button label="EDITAR" (click)="editar(luz)">

              </p-button>

              <button pButton
                      label="ELIMINAR"
                      class="ui-button-danger"
                      (click)="eliminar(luz)">
              </button>

              <button pButton (click)="accionar(luz.estado,$event,luz)" label="On/Off" class="ui-button-warning">

              </button>

              <!--<button type="button" pButton (click)="showSuccess1()" label="Encender" class="ui-button-success"></button>-->
              <!--<button type="button" pButton (click)="showSuccess2()" label="Apagar" class="ui-button-success"></button>-->



            </div>

          </div>

          <div *ngIf="columna.field!=='id'">

            {{luz[columna.field]}}

          </div>


        </td>
      </tr>
    </ng-template>
  </p-table>

</div>
