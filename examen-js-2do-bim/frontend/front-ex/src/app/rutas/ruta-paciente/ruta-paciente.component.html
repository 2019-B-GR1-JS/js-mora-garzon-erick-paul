<br>
<h1>Gestion de pacientes</h1>
<p> </p>
<p-button styleClass="ui-button-warning" label="Salir" (onClick)="salir()"></p-button>
<p> </p>

<span class="ui-float-label">
  <input id="float-input"
         type="text"
         size="30"
         [(ngModel)]="busquedaPaciente"
         pInputText>
  <label for="float-input"> Buscar por nombre </label>
  <p-button label="Buscar" (onClick)="buscar()"></p-button>
</span>
  <br>
  <p-button label="Registrar paciente" (click)="ingresar()"></p-button>
  <br>
  <br>
  <p-table [value]="pacientesFiltrados()"
           [paginator]="true"
           [rows]="filas">
    <ng-template pTemplate="caption">
      Lista de pacientes
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th>Nombre</th>
        <th>Apellido</th>
        <th>Fecha Nacimiento</th>
        <th>Numero hijos</th>
        <th>Acciones</th>
      </tr>

      <tr>
        <th>
          <input type="text"
                 pInputText
                 name="Nombre"

                 [(ngModel)]="nombreFiltrado"/>
        </th>
        <th>
          <input type="text"
                 pInputText
                 name="Apellido"

                 [(ngModel)]="apellidoFiltrado"/>
        </th>
        <th>
          <input type="text"
                 pInputText
                 name="Fecha"

                 [(ngModel)]="fechaFiltrado"/>
        </th>
        <th>
          <input type="text"
                 pInputText
                 name="Hijos"

                 [(ngModel)]="hijosFiltrado"/>
        </th>

      </tr>

    </ng-template>
    <ng-template pTemplate="body" let-paciente>
      <tr>
        <td>{{paciente.nombre}}</td>
        <td>{{paciente.apellido}}</td>
        <td>{{paciente.fechaNacimiento}}</td>
        <td>{{paciente.numeroHijos}}</td>
        <td>
          <p-button label="EDITAR" (click)="editar(paciente)"  styleClass="ui-button-primary"></p-button>
          <p-button label="ELIMINAR" (click)="eliminar(paciente)" styleClass="ui-button-danger"></p-button>
          <a [routerLink]="['/paciente',
        paciente.id,
        'medicamento']">
            <p-button label="Gestion medicamentos"  styleClass="ui-button-success"></p-button>
          </a>
        </td>
      </tr>
    </ng-template>
  </p-table>

<br>
<router-outlet></router-outlet>
<br>


