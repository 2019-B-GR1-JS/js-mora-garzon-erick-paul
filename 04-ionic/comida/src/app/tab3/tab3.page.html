<ion-header>
    <ion-toolbar>
        <ion-title>
            Formularios
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <!--Formularios de TEMPLATE -->
    <form (ngSubmit)="crearUsuario(usuarioFormulario)"
          #usuarioFormulario="ngForm">
        {{usuario.nombre}}
        <!--Variable de TEMPLATE -->
        <!-- <h1 #papa>papa</h1> -->

        <ion-item>
            <h1>Formulario</h1>
        </ion-item>
        <ion-item>


        <ion-label>Nombre: </ion-label>

        <ion-input type="text"
               name="nombre"
               required
                   placeholder="Ej: Erick Mora"
                   title="Llenar el nombre"
               minlength="3"
               maxlength="200"
               pattern="([A-Z])\w+"
        [(ngModel)]="usuario.nombre"
        #nombreInput="ngModel"></ion-input>

        </ion-item>
        <!--
        <p>Valid {{nombreInput.valid}}</p>
        <p>Invalid {{nombreInput.invalid}}</p>
        <p>Touch {{nombreInput.touched}}</p>
        <p>Untouched {{nombreInput.untouched}}</p>
        <p>Disabled {{nombreInput.disabled}}</p>
        <p>Enabled {{nombreInput.enabled}}</p>
        <p>Pristine {{nombreInput.pristine}}</p>
        <p>Dirty {{nombreInput.dirty}}</p>
        <h3>Errores</h3>
        <pre>
{{nombreInput.errors | json}}
</pre>-->
        <div *ngIf="nombreInput.touched && nombreInput.dirty && nombreInput.errors">
        <p *ngIf="nombreInput.errors?.required">
            Este campo es requerido.
        </p>

            <p *ngIf="nombreInput.errors?.pattern">
                Ingresar solo letras mayusculas
            </p>

        <p *ngIf="nombreInput.errors?.minlength">
            Llenar con un mínimo de 3 caracteres.
        </p>

            <p *ngIf="nombreInput.errors?.maxlength">
                Llenar con un máximo de 200 caracteres.
            </p>
        </div>

        <ion-item>
            <ion-label>Correo: </ion-label>
        <ion-input type="text"
               name="correo"
               required
               email
                   placeholder="Ej: erick@hotmail.com"
                   title="Llenar el correo"
               [(ngModel)]="usuario.correo"
               #correoInput="ngModel"></ion-input>

        </ion-item>

        <div *ngIf="correoInput.touched && correoInput.dirty && correoInput.errors">
            <p *ngIf="correoInput.errors?.required">
                Este campo es requerido.
            </p>

            <p *ngIf="correoInput.errors?.email">
                Eso no es correo valido
            </p>


        </div>

        <ion-item>
            <ion-label>Edad: </ion-label>
        <ion-input type="number"
               name="edad"
               min="0"
               max="150"
                   placeholder="Ej: 20"
                   title="Llenar la edad"
               pattern="([0-9])+"
               [(ngModel)]="usuario.edad"
               #edadInput="ngModel"></ion-input>
        </ion-item>

        <div *ngIf="edadInput.touched && edadInput.dirty && edadInput.errors">
            <p *ngIf="edadInput.errors?.required">
                Este campo es requerido.
            </p>

            <p *ngIf="edadInput.errors?.pattern">
                Ingresar solo digitos
            </p>

            <p *ngIf="edadInput.errors?.min">
                Edad minima de 0.
            </p>

            <p *ngIf="edadInput.errors?.max">
                Edad maxima de 150.
            </p>
        </div>

        <ion-item>
            <ion-label>Password: </ion-label>
            <ion-input type="password"
                       name="password"
                       required
                       placeholder="Ej: ClaveSecreta123"
                       title="Llenar el password"
                       pattern="([0-9])+"
                       [(ngModel)]="usuario.password"
                       #passwordInput="ngModel"></ion-input>
        </ion-item>

        <ion-item>
            <ion-label>Conf. Password: </ion-label>
            <ion-input type="password"
                       name="passwordConfirmacion"
                       required
                       placeholder="Ej: ClaveSecreta123"
                       title="Llenar la confirmacion de password"
                       pattern="([0-9])+"
                       [(ngModel)]="usuario.passwordConfirmacion"
                       #passwordConfirmacionInput="ngModel"></ion-input>
        </ion-item>


        <div *ngIf="passwordInput.touched && passwordInput.dirty &&
                    passwordConfirmacionInput.touched && passwordConfirmacionInput.dirty">
        <p *ngIf="validarPasswordsIguales()">
            Las passwords no coinciden.
        </p>

    </div>

        <!-- <button [disabled]="nombreInput.errors">Aceptar</button> -->
        <!--<button [disabled]="usuarioFormulario.invalid">Aceptar</button>-->

        <ion-button expand="full"
                    [disabled]="(usuarioFormulario.invalid && validarPasswordsIguales()) ||
                    usuarioFormulario.valid && usuario.password === '' ||
                    usuarioFormulario.invalid">
            Aceptar</ion-button>
    </form>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
</ion-content>
